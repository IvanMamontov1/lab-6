# Lab 6 — Refactoring & Code Smells

## Найденные проблемы (code smells)
- Длинная функция `process_checkout` (слишком много логики в одном месте).
- Смешаны этапы: разбор запроса, валидация, расчёты и формирование ответа.
- Магические числа (0.21, 200, 0.10, 0.20, 0.05, 50, 10) в коде.
- Логику скидок сложно расширять и поддерживать.

## Применённые рефакторинги
- Extract Method: вынесены функции для валидации, subtotal, discount, tax, order_id.
- Introduce Constants: магические числа вынесены в константы.
- Код читается сверху вниз как сценарий (validate → subtotal → discount → tax → response).

## Что стало проще
- `process_checkout` стал короче и понятнее.
- Изменять правила скидок/налога стало легче.
- Код проще тестировать и расширять.
